post:
  summary: RTP Acceptance
  tags:
    - Non Financial API Specs
  description: >-
    <a id="rtpAcceptance"></a>

    To notify status of RTP. If customer is present on digital channel and would
    be able to accept/authorize RTP later request then channel backend will call
    this API of OpenConnect to notify about it.
  operationId: rtpAcceptance
  parameters:
    - name: Content-Type
      in: header
      description: Content-Type of Request Body
      required: true
      schema:
        type: string
  x-codeSamples:
    - lang: CURL
      source:
        $ref: >-
          ../code_samples/CURL/api_v1_paysyslabs_payments_merchant_rtpAcceptance/post.sh
  responses:
    '200':
      description: Success
      content:
        application/json:
          examples:
            '0':
              summary: Success Response Example
              value:
                response:
                  response_code: '0000'
                  response_desc: SUCCESS
                info:
                  stan: '010123'
                  rrn: '010123010123'
                  correlationId: 7ad7fb9f-99dc-4c2c-ab88-abddb87789a0
            '405':
              summary: failure Response Example
              value:
                response:
                  response_code: '0405'
                  response_desc: Beneficiary account is invalid
                info:
                  stan: '010123'
                  rrn: '010123010123'
                  correlationId: 7ad7fb9f-99dc-4c2c-ab88-abddb87789a0
          schema:
            type: object
            properties:
              response_code:
                $ref: ..\components\schemas\response_code.yaml
              response_desc:
                $ref: ..\components\schemas\response_desc.yaml
              rrn:
                $ref: ..\components\schemas\rsp_rrn.yaml
              stan:
                $ref: ..\components\schemas\rsp_stan.yaml
              correlationId:
                type: string
                minLength: 40
                maxLength: 40
                description: >-
                  Unique correlation id for the transaction generated by Open
                  Connect
              instrId:
                type: string
                minLength: 40
                maxLength: 40
                description: Instruction id sent to RAAST
              endToEndId:
                type: string
                minLength: 40
                maxLength: 40
                description: End to end id sent to RAAST
              txId:
                type: string
                minLength: 40
                maxLength: 40
                description: Transaction id sent to RAAST
              msgId:
                type: string
                minLength: 24
                maxLength: 24
                description: Echo back
            required:
              - response_code
              - response_desc
              - rrn
              - stan
              - correlationId
    '401':
      description: Unauthorized
      content:
        application/json:
          example:
            error: unauthorized
            status: 401
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          properties:
            info:
              type: object
              properties:
                rrn:
                  type: string
                  description: Retrieval reference number.
                  minLength: 12
                  maxLength: 12
                  example: '123456789012'
                stan:
                  type: string
                  description: System trace audit number.
                  minLength: 6
                  maxLength: 6
                  example: '654321'
                txndate:
                  type: string
                  description: Transaction date (Format yyyymmdd).
                  minLength: 8
                  maxLength: 8
                  example: '20240101'
                txntime:
                  type: string
                  description: Transaction time (Format hhmmss).
                  minLength: 6
                  maxLength: 6
                  example: '235959'
            rtpDetails:
              type: object
              properties:
                rtpStatus:
                  type: string
                  description: |
                    • 1 - Accepted
                    • 2 - Rejected
                  minLength: 1
                  maxLength: 1
                  example: '1'
                rtpId:
                  type: string
                  description: Provided by rtpRequest[rtpId].
                  minLength: 1
                  maxLength: 100
                  example: abc123def456ghi789jkl
                rejectReason:
                  type: string
                  description: >-
                    If `rtpStatus` is `2` then provide reject reason (only those
                    which are specified by SBP).
                  minLength: 0
                  maxLength: 100
                  example: ''
