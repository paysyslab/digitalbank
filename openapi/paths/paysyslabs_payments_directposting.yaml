post:
  summary: directposting
  tags:
    - Payment API Specs
  description: >-
    <a id="direct-posting"></a>

    This service will be used to send P2P payment via Raast for interbank
    transfer. The service will be sent credit request directly to RAAST without
    sending any debit request to bank middleware/CBS. This service ideally needs
    to be used in scenario where bank’s system can debit customer account itself
    and sent only credit request to Raast via open connect. 


    Open connect return additional fields upon successful response, bank’s
    middleware needs to sent same values to CBS while debit confirmation or
    release. These key parameters will be used for RECON purpose. 
  operationId: directposting
  parameters:
    - name: Content-Type
      in: header
      description: Content-Type of Request Body
      required: true
      schema:
        type: string
  x-codeSamples:
    - lang: CURL
      source:
        $ref: ../code_samples/CURL/paysyslabs_payments_directposting/post.sh
  responses:
    '200':
      description: Success
      content:
        application/json:
          examples:
            '0':
              summary: Success Response Example
              value:
                response:
                  response_code: '0000'
                  response_desc: SUCCESS
                info:
                  stan: '010123'
                  rrn: '010123010123'
                  correlationId: 7ad7fb9f-99dc-4c2c-ab88-abddb87789a0
                paymentInfo:
                  instrId: TMIC230511125023876423
                  endToEndId: 1fc66b584e77-46e6-9dcb-fb12c00e7742
                  txId: TMIC230511125023876423
                  msgId: TMICFBPK110523000111250233
            '405':
              summary: failure Response Example
              value:
                response:
                  response_code: '0405'
                  response_desc: Beneficiary account is invalid
                info:
                  stan: '010123'
                  rrn: '010123010123'
                  correlationId: 7ad7fb9f-99dc-4c2c-ab88-abddb87789a0
                paymentInfo:
                  msgId: TMICFBPK110523000111250233
          schema:
            type: object
            properties:
              response_code:
                $ref: ..\components\schemas\response_code.yaml
              response_desc:
                $ref: ..\components\schemas\response_desc.yaml
              rrn:
                $ref: ..\components\schemas\rsp_rrn.yaml
              stan:
                $ref: ..\components\schemas\rsp_stan.yaml
              correlationId:
                type: string
                minLength: 40
                maxLength: 40
                description: >-
                  Unique correlation id for the transaction generated by Open
                  Connect
              instrId:
                type: string
                minLength: 40
                maxLength: 40
                description: Instruction id sent to RAAST
              endToEndId:
                type: string
                minLength: 40
                maxLength: 40
                description: End to end id sent to RAAST
              txId:
                type: string
                minLength: 40
                maxLength: 40
                description: Transaction id sent to RAAST
              msgId:
                type: string
                minLength: 24
                maxLength: 24
                description: Echo back
            required:
              - response_code
              - response_desc
              - rrn
              - stan
              - correlationId
              - msgId
    '401':
      description: Unauthorized
      content:
        application/json:
          example:
            error: unauthorized
            status: 401
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: ..\components\schemas\p_RAASTTransfer.yaml
